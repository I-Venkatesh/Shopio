{"ast":null,"code":"import _toConsumableArray from\"/home/venkatesh/projectBackup/shopio/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/venkatesh/projectBackup/shopio/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Rating from\"../components/Rating\";import Loading from\"../components/LoadingBox\";import{detailsProduct}from\"../actions/productActions\";import Message from\"../components/MessageBox\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductScreen(props){var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCartHandler=function addToCartHandler(){props.history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to result\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"large\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card3\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"25px\"},children:product.name})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Rating,{rating:product.rating,numReviews:product.numReviews})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",product.description]}),/*#__PURE__*/_jsx(\"li\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cardAddToCart card-body\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"\\u20B9\",product.price]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:product.countInStock>0?/*#__PURE__*/_jsx(\"span\",{className:\"sucess\",children:\"In Stock\"}):/*#__PURE__*/_jsx(\"span\",{className:\"danger\",children:\"Unavailable\"})})]})}),product.countInStock>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"primary block\",children:\"Add to Cart\"})})]})]})})})]})]})]})});}export default ProductScreen;","map":{"version":3,"sources":["/home/venkatesh/projectBackup/shopio/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Rating","Loading","detailsProduct","Message","Link","ProductScreen","props","dispatch","productId","match","params","id","qty","setQty","productDetails","state","loading","error","product","addToCartHandler","history","push","image","name","fontSize","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Rating from \"../components/Rating\";\nimport Loading from \"../components/LoadingBox\";\nimport { detailsProduct } from \"../actions/productActions\";\nimport Message from \"../components/MessageBox\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProductScreen(props) {\n  const dispatch = useDispatch();\n  const productId = props.match.params.id;\n  const [qty, setQty] = useState(1);\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    dispatch(detailsProduct(productId));\n  }, [dispatch, productId]);\n\n  const addToCartHandler = () => {\n    props.history.push(`/cart/${productId}?qty=${qty}`);\n  };\n\n  return (\n    <div>\n      {loading ? (\n        <Loading />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <div>\n          <Link to=\"/\">Back to result</Link>\n          <div className=\"row top\">\n            <div className=\"col-2\">\n              <img\n                className=\"large\"\n                src={product.image}\n                alt={product.name}\n              ></img>\n            </div>\n            <div className=\"col-2\">\n              <div className=\"card3\">\n                <ul>\n                  <li>\n                    <h1 style={{ fontSize: \"25px\" }}>{product.name}</h1>\n                  </li>\n                  <li>\n                    <Rating\n                      rating={product.rating}\n                      numReviews={product.numReviews}\n                    ></Rating>\n                  </li>\n                  <li>\n                    <strong>Price:</strong>₹{product.price}\n                  </li>\n                  <li>\n                    <strong>Description:</strong> {product.description}\n                  </li>\n                  <li></li>\n                </ul>\n              </div>\n              <div className=\"col-1\">\n                <div className=\"cardAddToCart card-body\">\n                  <ul>\n                    <li>\n                      <div className=\"row\">\n                        <div>Price</div>\n                        <div className=\"price\">₹{product.price}</div>\n                      </div>\n                    </li>\n                    <li>\n                      <div className=\"row\">\n                        <div>Status</div>\n                        <div>\n                          {product.countInStock > 0 ? (\n                            <span className=\"sucess\">In Stock</span>\n                          ) : (\n                            <span className=\"danger\">Unavailable</span>\n                          )}\n                        </div>\n                      </div>\n                    </li>\n                    {product.countInStock > 0 && (\n                      <>\n                        <li>\n                          <div className=\"row\">\n                            <div>Qty</div>\n                            <div>\n                              <select\n                                value={qty}\n                                onChange={(e) => setQty(e.target.value)}\n                              >\n                                {[...Array(product.countInStock).keys()].map(\n                                  (x) => (\n                                    <option key={x + 1} value={x + 1}>\n                                      {x + 1}\n                                    </option>\n                                  )\n                                )}\n                              </select>\n                            </div>\n                          </div>\n                        </li>\n                        <li>\n                          <button\n                            onClick={addToCartHandler}\n                            className=\"primary block\"\n                          >\n                            Add to Cart\n                          </button>\n                        </li>\n                      </>\n                    )}\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}